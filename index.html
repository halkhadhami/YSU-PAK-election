<!DOCTYPE html>
<html>
<head>


	
    <link rel="stylesheet" href="css/style.css">

	<title>Election Form</title>

</head>
<body>
	<h1>Election Form</h1>
	
	<form form action="https://formspree.io/f/myyaakyb" method="POST">
		<fieldset>
			<div>
				<label for="name">Student's Name: <span class="required">*</span></label>
				<input type="text" value="" id="name" name="name" required>
			</div>
			
			<div>
				<label for="province">Student's Province: <span class="required">*</span></label>
				<input type="text" value="" id="province" name="province" required>
			</div>
			
			<div>
				<label for="university">Student's University: <span class="required">*</span></label>
				<input type="text" value="" id="university" name="university" required>
			</div>


			<div>
				<label for="email">Student's Email: <span class="required">*</span></label>
				<input type="email" value="" id="email" name="email" required>
			</div>

			<div>
				<label for="contactSubject">Student's Choice:</label>
				<select id="Choice" name="Choice">
					<option value="per1" style="background-image: url('images/1.jpg')">Option1</option>
					<option value="per2" style="background-image: url('images/2.jpg')">Option2</option>
					<option value="per3" style="background-image: url('images/3.jpg')">Option3</option>
					<option value="per4" style="background-image: url('images/4.jpg')">Option4</option>
					<option value="per5" style="background-image: url('images/5.jpg')">Option5</option>
					<option value="per6" style="background-image: url('images/6.jpg')">Option6</option>
				</select>
			</div>

			<input type="submit" value="Submit">
		</fieldset>
	</form>


	

	
	<script>
		const form = document.querySelector('form');
		const emailInput = document.getElementById('email');

		// check if email has already submitted the form
		if (localStorage.getItem('submittedEmail') === emailInput.value) {
		  form.innerHTML = '<p>You have already submitted the form.</p>';
		} else {
		  form.addEventListener('submit', handleSubmit);
		}

		function handleSubmit(event) {
		  event.preventDefault();

		  // check if email is in the allowed list
		  const allowedEmails = ['email1@example.com', 'email2@example.com', 'email3@example.com'];
		  const submittedEmail = emailInput.value;
		  if (!allowedEmails.includes(submittedEmail)) {
			alert(' لا يسمح بالاقتراع الا للطلاب المدرجة إيميلاتهم سلفا،، لذا يرجى التأكد من الايميل او التواصل بلجنة الرقابة وشكرا');
			return;
		  }

		  // submit form
		  form.submit();

		  // save submitted email to local storage
		  localStorage.setItem('submittedEmail', submittedEmail);
		}

	</script>
		
	
</body>



</html>
